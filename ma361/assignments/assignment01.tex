\documentclass[12pt]{article}
\input{../preamble}
\newcommand\highlight[1]{\textcolor{blue}{#1}}

\title{Homework 9}
\author{Naman Mishra (22223)}
\date{15 October, 2024}

\begin{document}
\maketitle

% Problem 1
\begin{problem*}
% Problem 1. Let X1,X2,... be i.i.d from μ. For each n, define the random probability measure μn = n1 (δX1 + . . . + δXn ). If Fn, F are the cumulative distribution functions of μn and μ, show that
% a.s.
% for any x ∈ R, we have Fn(x) → F(x).
    Let $X_1, X_2, \dots$ be i.i.d from $\mu$.
    For each $n$, define the random probability measure
    $\mu_n = \frac1n (\delta_{X_1} + \dots + \delta_{X_n})$.
    If $F_n, F$ are the cumulative distribution functions of $\mu_n$ and
    $\mu$, show that for any $x \in \R$, we have $F_n(x) \asto F(x)$.
\end{problem*}
\begin{solution} \leavevmode
    \begin{enumerate}
        \item \textbf{True.}
        Fix a $\delta > 0$.
        Then $\P\set{\abs{X_n/n} > \delta} = \P\set{\abs{X_1} > n\delta}
        \to 0$ as $n \to \infty$.
        \item \textbf{False.} Not necessarily.
        Let $X_1 = k$ with probability $B \frac1{k^2}$ for $k \ge 1$,
        where $B = \ab(\sum_{k=1}^\infty \frac1{k^2})^{-1}$ is the
        normalizing constant.
        Then \begin{align*}
            \P\set*{\frac{X_n}{n} \ge 1} &= \P\set{X_1 \ge n} \\
                &= B \sum_{k \ge n} \frac1{k^2} \\
                &\ge B \frac1n
        \end{align*} using that
        $\sum_{k=N}^\infty \frac1{k^2} \ge \int_N^\infty \frac1{x^2} \dd x$.
        Thus $\set{X_n/n \ge 1}$ are independent events with
        probabilities summing to infinity.
        By the second Borel-Cantelli lemma,
        $\P\set{X_n/n > 1 \text{ i.o.}} = 1$, so
        $\P\set{X_n/n \to 0} = 0$.
    \end{enumerate}
\end{solution}

% Problem 2
\begin{problem*}
     % Let Xn be a sequence of random variables with zero means, unit variances. Assume that|Cov(Xn,Xm)|≤δ(|n−m|)whereδ(k)→0ask→∞. Showthat n1Sn →P 0.
    Let $X_n$ be a sequence of random variables with zero means, unit
    variances.
    Assume that $\abs{\Cov(X_n, X_m)} \le \delta(\abs{n-m})$ where
    $\delta(k) \to 0$ as $k \to \infty$.
    Show that $\frac1n S_n \pto 0$.
\end{problem*}
\begin{solution}
    Let $n_1 = 1$ and for each $k \ge 2$, let $n_k \ge n_{k-1}$ be such that
    \[
        \P\set*{\abs{X_{n_k} - X} > \frac 1k} \le \frac 1{k^2}.
    \] (Since $\P\set{\abs{X_n - X} > 1/k} \to 0$ as $n \to \infty$.)
    Fix an $M \in \N \setminus \set 0$ and observe \begin{align*}
        \sum_{k=1}^\infty \P\set*{\abs{X_{n_k} - X} > \frac 1M}
            &\le \sum_{k=1}^M \P\set*{\abs{X_{n_k} - X} > \frac 1M} \\
            &\qquad+ \sum_{k > M} \P\set*{\abs{X_{n_k} - X} > \frac 1k} \\
            &\le M + \sum_{k > M} \frac 1{k^2} \\
            &< \infty.
    \end{align*}
    By the Borel-Cantelli lemma,
    $\P\set*{\abs{X_{n_k} - X} > \frac 1M \text{ i.o.}} = 0$.
    In other words, \[
        \P\ab(\bigcup_{K=1}^\infty \bigcap_{k \ge K}
            \set*{\abs{X_{n_k} - X} \le \frac 1M})
                = 1.
    \]
    Since the intersection of countably many almost sure events is almost
    sure, we have \[
        \P\set{\lim_{k \to \infty} X_{n_k} = X}
        = \P\ab(\bigcap_{M=1}^\infty \bigcup_{K=1}^\infty \bigcap_{k \ge K}
            \set*{\abs{X_{n_k} - X} \le \frac 1M})
        = 1. \qedhere
    \]
\end{solution}

\end{document}
\documentclass[12pt]{article}
\input{../preamble}
% \newcommand{\finpow}[1]{\mcP_{\text{fin}}(#1)}
\newcommand\finpow[1]{\operatorname{Fin}(#1)}
\newcommand\pr{\mathbb P}
\newcommand\finpr{\finpow{\pr}}

\title{Homework 1}
\author{Naman Mishra (22223)}
\date{7 August, 2024}

\begin{document}
\maketitle

% Problem 1
\begin{problem*} \label{prb:countable}
    Let $X$ be an arbitrary set.
    Let \[
        \F \coloneq \set{A \subseteq X \mid
                A \text{ is countable or } A^c \text{ is countable}}.
    \]
    Prove that $\F$ is a sigma-algebra.
    Let $S$ be the collection of all singletons in X.
    Prove that $\sigma(S) = \mcF$.
\end{problem*}
\begin{solution}
    Since $\O$ is countable, $\O \in \F$.
    For any $A \subseteq X$, \begin{align*}
        A \in \F
            &\iff A \text{ is countable or } A^c \text{ is countable} \\
            &\iff A^c \text{ is countable or } (A^c)^c \text{ is countable} \\
            &\iff A^c \in \F.
    \end{align*}
    Let $A_1, A_2, \dots \in \F$.
    If every $A_i$ is countable, then
    $\bigcup_{i=1}^\infty A_i$ is a countable union of countable sets and
    hence countable.

    If some $A_i$ is uncountable, then $A_i^c$ is countable
    (since $A_i \in \F$) so \[
        {\ab(\bigcup_{j=1}^\infty A_j)\!}^c
            = \bigcap_{j=1}^\infty A_j^c
            \subseteq A_i^c
    \] is countable.
    In either case, the union is in $\F$.

    Any countable set $A$ can be written as a countable union of singletons
    $A = \bigcup_{a \in A} \set{a}$.
    Thus every countable set is in $\sigma(S)$.
    By closure under complements, every set whose complement is countable
    is also in $\sigma(S)$.
    Thus $\F \subseteq \sigma(S)$.

    But $\F$ is a $\sigma$-algebra containing $S$,
    so $\sigma(S) \subseteq \F$.
\end{solution}

% Problem 2
\begin{problem*}
    On $[0, 1]$, let $\mcA$ be the algebra generated by finite unions of
    left-open, right-closed intervals and let $\mcB$ be the Borel
    sigma-algebra.
    Define $\mu\colon \mcA \to [0, 1]$ by $\mu(A) = 1$ if
    $A \supseteq (0, \varepsilon)$ for some $\varepsilon > 0$ and
    $\mu(A) = 0$ otherwise.
    \begin{enumerate}[(1)]
        \item Show that $\mu$ is a finitely additive measure on $\mcA$.
        \item Show that $\mu$ can not be extended to a measure on $\mcB$.
        \item Why does this not contradict the Carath\'eodory extension
            theorem?
    \end{enumerate}
\end{problem*}
\begin{solution} \leavevmode
  \begin{enumerate}[(1)]
    \item Let $A_1, A_2 \in \mcA$ be disjoint.
    First notice that $\mu(A_1) = \mu(A_2) = 1$ is not possible.
    This would imply that there exist
    $0 < \varepsilon_1, \varepsilon_2 \le 1$ such that
    $(0, \varepsilon_1) \subseteq A_1$ and
    $(0, \varepsilon_2) \subseteq A_2$, which would force
    $A_1 \cap A_2 \supseteq (0, \varepsilon_1 \varepsilon_2) \ne \O$.

    Suppose $\mu(A_1) = \mu(A_2) = 0$.
    Since $A_1$ and $A_2$ are finite unions of intervals,
    write $A_1 = \bigcup_{i=1}^n (a_i, b_i]$, where each $a_i$ must be
    positive for $\mu(A_1) = 0$. \\
    Then $\inf A_1 = \smashoperator{\inf\limits_{1 \le i \le n}} a_i > 0$.
    Similarly $\inf A_2 > 0$.
    Thus $\inf (A_1 \cup A_2) > 0$ and so there is no $\varepsilon > 0$
    for which $(0, \varepsilon) \subseteq A_1 \cup A_2$.
    That is, $\mu(A_1 \cup A_2) = 0$.

    The remaining cases are $\mu(A_1) = 1, \mu(A_2) = 0$ and
    $\mu(A_1) = 0, \mu(A_2) = 1$.
    WLOG suppose $\mu(A_1) = 1$ and $\mu(A_2) = 0$.
    There exists an $\varepsilon > 0$ such that
    $(0, \varepsilon) \in A_1 \subseteq A_1 \cup A_2$.
    Thus $\mu(A_1 \cup A_2) = 1$.

    Finite additivity holds in each case.

    \item $\mu$ can not be extended to a measure on $\mcB$ because
    it is not countably additive.
    Let $A_n = (\frac1{n+1}, \frac1n]$ for $n \ge 1$.
    $\set{A_n}$ are pairwise disjoint and $\mu(A_n) = 0$ for all $n$.
    However, $\bigcup_{n=1}^\infty A_n = (0, 1]$, whose measure is 1.
    Thus countable additivity fails and $\mu$ can not be extended to
    a measure on $\mcB$.

    \item This does not contradict the Carath\`eodory extension theorem
    because $\mu$ does not satisfy the criterion of being \emph{countably
    additive}, which is a necessary condition for the theorem to apply.
    \qedhere
  \end{enumerate}
\end{solution}

% Problem 3
\begin{problem*}
    Let $\F$ be a $\sigma$-algebra of subsets of $\Omega$.
    \begin{enumerate}[(1)]
        \item Show that $\F$ is closed under countable intersections
            ($\bigcap_n A_n$), under set differences ($A \setminus B$),
            and under symmetric differences ($A \Delta B$).
        \item If $A_n$ is a countable sequence of subsets of $\Omega$,
            the set $\limsup A_n$ (resp. $\liminf A_n$) is defined as
            the set of all $\omega \in \Omega$ that belong to infinitely
            many (resp. all but finitely many) of the sets $A_n$.

            If $A_n \in \F$ for all $n$, show that $\limsup A_n \in \F$
            and $\liminf A_n \in \F$.
        \item If $A_1 \subseteq A_2 \subseteq A_3 \subseteq \dots$,
            what are $\limsup A_n$ and $\liminf A_n$?
    \end{enumerate}
\end{problem*}
\begin{solution} \leavevmode
  \begin{enumerate}[(1)]
    \item $\bigcap_n A_n = \ab(\bigcup_n A_n^c)^c$ is in $\F$
        by \refifdef{def:sigma:c,def:sigma:u}{\cref}
        {properties of $\sigma$-algebras}.
        $A \setminus B$ is simply $A \cap B^c$, and
        the symmetric difference is simply
        $A \setminus B \cup B \setminus A$.
    \item Write $\limsup A_n = \bigcap_{i} \bigcup_{j \ge i} A_j$
    and $\liminf A_n = \bigcup_i \bigcap_{j \ge i} A_j$.
    \item Let $A = \bigcup A_n$.
    For each $i$, \[
        \bigcup_{j\ge i} A_j = A
            \quad\text{and}\quad
        \bigcap_{j\ge i} A_j = A_i.
    \] Thus $\limsup A_n = \bigcap_i A = A$ and
    $\liminf A_n = \bigcup_i A_i = A$. \qedhere
  \end{enumerate}
\end{solution}

% Problem 4
\begin{problem*}
    Let $(\Omega, \F)$ be a set with a $\sigma$-algebra.
    \begin{enumerate}[(1)]
        \item Suppose $\P$ is a probability measure on $\F$.
        If $A_n \in \F$ and $A_n$ increase to $A$
        (respectively, decrease to $A$),
        show that $\P(A_n)$ increases to (respectively, decreases to)
        $\P(A)$.
        \item Suppose $\P\colon \F \to [0, 1]$ is a function such that
        (a) $\P(\Omega) = 1$, (b) $\P$ is finitely additive,
        (c) if $A_n, A \in \F$ and $A_n$s increase to $A$,
        then $\P(A_n) \upto \P(A)$.
        Then show that $\P$ is a probability measure on $\F$.
    \end{enumerate}
\end{problem*}
\begin{solution} \leavevmode
    \begin{enumerate}[(1)]
        \item First notice that $X \subseteq Y \implies \P(X) \le \P(Y)$ and
        $\P(X) + \P(X^c) = \P(\Omega) = 1$ by additivity.

        Let $A_n \upto A$.
        Let $\Delta_n = A_n \setminus A_{n-1}$ for $n \ge 2$.
        By additivity, \[
            \P(A_n) = \P(A_{n-1}) + \P(\Delta_n)
                = \P(A_1) + \sum_{i=2}^n \P(\Delta_n).
        \] Thus $\P(A_n)$ increases to
        $\P(A_1) + \sum_{i=2}^\infty \P(\Delta_n)$.
        By countable additivity, $\P(A)$ is precisely this.

        Now suppose $A_n \downto A$.
        Then $A_n^c \upto A^c$ (which are all in $\F$).
        Then $\P(A_n) = 1 - \P(A_n^c)$ decreases to $1 - \P(A^c) = \P(A)$.
        \item Let $\Delta_1, \Delta_2, \dots \in \F$ be disjoint.
        Let $A_n = \bigsqcup_{i=1}^n \Delta_i$ and
        $A = \bigsqcup_{i=1}^\infty \Delta_i$.
        By finite additivity, $\P(A_n) = \sum_{i=1}^n \P(\Delta_i)$.
        Thus $\P(A_n)$ increases to
        $\sum_{i=1}^\infty \P(\Delta_i)$.
        By (c), this is $\P(A)$, so countable additivity holds. \qedhere
    \end{enumerate}
\end{solution}

% Problem 5
\begin{problem*}
    Let $(\Omega, \F, \P)$ be a probability space.
    Let $\mcG = \set{A \in \F \mid \P(A) = 0 \text{ or } 1}$.
    Show that $\mcG$ is a $\sigma$-algebra.
\end{problem*}
\begin{proof}
    Since $\P(\O) = 0$ and $\P(\Omega) = 1$, $\O, \Omega \in \mcG$.

    Let $A \in \mcG$.
    Since $\P(A^c) = 1 - \P(A)$, $A^c \in \mcG$.

    Let $A_1, A_2, \dots \in \mcG$.
    If $\P(A_i) = 0$ for all $i$, then
    $\P(\bigcup A_i) = 0$ and $\bigcup A_i \in \mcG$.

    If $\P(A_i) = 1$ for some $i$, then
    $\P(\bigcup A_i) = 1$ and $\bigcup A_i \in \mcG$.
\end{proof}

% Problem 6
\begin{problem*}
    Let $\F$ be a $\sigma$-algebra on $\N$ that is strictly smaller than
    the power set.
    Show that there exist $m \ne n$ such that elements of $\F$ do not
    separate $m$ and $n$ (i.e., the following holds: any $A \in \F$
    either contains both $m$ and $n$, or neither).
    Is the same conclusion valid if $\N$ is replaced by any set $\Omega$?
\end{problem*}
\begin{solution}
    Let $\F$ be a $\sigma$-algebra that separates any two natural numbers.
    Fix an $n \in \N$.
    Let $B_m \in \F$ contain $n$ but not $m$ for each $m \ne n$.
    Then $\bigcap_{m \ne n} B_m = \set n \in \F$.
    Thus $\F = 2^\N$.

    This argument would not work for any arbitrary set,
    since the intersection may not be countable.
\end{solution}

% Problem 7
\begin{problem*} \label{prb:separation}
    Let $X$ be an arbitrary set.
    \begin{enumerate}[(1)]
        \item Suppose $S$ is a collection of subsets of $X$ and $a, b$ are
        two elements of $X$ that are not separated by any element of $S$.
        Let $\F = \sigma(S)$.
        Show that no set in $\F$ separates $a$ and $b$.
        \item Let $S = \set{(a, b] \cup[-b, -a) : a < b \in \R}$.
        Show that $\sigma(S)$ is strictly smaller than the Borel
        $\sigma$-algebra on $\R$.
    \end{enumerate}
\end{problem*}
\begin{solution} \leavevmode
    \begin{enumerate}[(1)]
        \item Consider the collection \[
            \mcG = \set{A \in 2^\F : a \in A \iff b \in A}.
        \] This is a $\sigma$-algebra containing $S$, since
        \begin{enumerate}[\small$(\varsigma 1)$]
            \item $a \in \O \iff b \in \O$;
            \item if $A \in \mcG$, then $a \in A \iff b \in A$,
                so $a \in A^c \iff b \in A^c$;
            \item if $A_1, A_2, \dots \in \mcG$, then in the case that some
            $A_j$ contains both $a$ and $b$,
            the union contains both $a$ and $b$, and in the case that no
            $A_j$ contains either $a$ or $b$,
            the union similarly contains neither.
        \end{enumerate}
        Since $\F = \sigma(S)$ is the intersection of all $\sigma$-algebras
        containing $S$, $\F \subseteq \mcG$.
        Thus no set in $\F$ separates $a$ and $b$.
        \item $S \in \mcB(\R)$, so $\sigma(S) \subseteq \mcB(\R)$.

        No set in $S$ separates $1$ and $-1$.
        However, the $[0, 1] \in \mcB(\R)$ separates them.
        Thus $\sigma(S) \ne \mcB(\R)$. \qedhere
    \end{enumerate}
\end{solution}

% Problem 8
\begin{problem*} \label{prb:borel-R}
    Show that each of the following collection of subsets of $\R$ generate
    the same $\sigma$-algebra (which we call the Borel $\sigma$-algebra).
    \begin{enumerate}[(1)]
        \item $\set{[a, b] : a \le b \text{ and } a, b \in \Q}$.
        \item The collection of all compact sets.
    \end{enumerate}
\end{problem*}
\begin{solution}
    Call the $\sigma$ algebras generated by the two given subsets
    $\sigma_1$ and $\sigma_2$ respectively.
    Note that $\sigma_1 \subseteq \sigma_2$.

    From \crefifdef{thm:borel-R}{the exercise following the definition
    of Borel $\sigma$-algebra}, we have that \[
        \B(\R) = \sigma\set{\text{open sets in } \R}
            = \sigma\set{\text{open intervals in } \R}.
    \] Since closed sets are complements of open sets,
    $\sigma_1 \subseteq \sigma_2 \subseteq \B(\R)$.
    We need to show that $\B(\R) \subseteq \sigma_1$.

    Let $U \subseteq \R$ be open.
    For each $x \in U$, there exists a compact interval $[a_x, b_x]$
    with rational endpoints such that $x \in [a_x, b_x] \subseteq U$.
    Then \[
        U = \bigcup_{x \in U} [a_x, b_x] \;\in \sigma_1,
    \] since there are only countably many such $[a_x, b_x]$.
    Thus $\B(\R) \subseteq \sigma_1 \subseteq \sigma_2$.
    We get $\sigma_1 = \sigma_2 = \B(\R)$ as desired.
\end{solution}

% Problem 9
\begin{problem*}
    Let $\Omega$ be an infinite set and let
    $\mcA = \set{A \subseteq \Omega
        \mid A \text{ or } A^c \text{ is finite}}$.
    Define $\mu\colon \mcA \to \R_+$ by $\mu(A) = 0$ if $A$ is finite
    and $\mu(A) = 1$ if $A^c$ is finite.
    \begin{enumerate}[(1)]
        \item Show that $\mcA$ is an algebra and that $\mu$ is finitely
        additive on $\mcA$.
        \item Show that if $\Omega$ is countable $\mu$ does not extend
        to a measure on $\F = \sigma(\mcA)$.
        \item Under what conditions does $\mu$
        extend to a probability measure on $\F$?
    \end{enumerate}
\end{problem*}
\begin{solution} \leavevmode
    \begin{enumerate}
        \item Obviously $\mcA$ is closed under complements.
        A finite union of finite sets is finite, and
        any union where at least one set is cofinite is cofinite.
        Thus $\mcA$ is closed under finite unions.

        Let $A, B \in \mcA$ be disjoint.
        If both are finite, then $A \cup B$ is finite and
        $\mu(A \cup B) = 0 = \mu(A) + \mu(B)$.
        At most one of these can be cofinite, in which case
        $\mu(A \cup B) = 1 = \mu(A) + \mu(B)$.
        \item WLOG suppose $\Omega = \N$.
        Then $\set n, \N \in \F$ and $\bigsqcup_{n=1}^\infty \set n = \N$.
        But \[
            \mu(\N) = 1 \ne \sum_{n=1}^\infty \mu(\set n) = 0.
        \] Thus $\mu$ can not be extended to a measure on $\F$.
        \item If $\Omega$ is uncountable, then $\mu$ is countably additive.
        Let $A_1, A_2, \dots \in \mcA$ be disjoint.
        If any of these is cofinite, then every other is finite, and \[
            \mu\left(\bigsqcup_{n=1}^\infty A_n\right)
                = 1 = \sum_{n=1}^\infty \mu(A_n).
        \] If all of them are finite, then the union is at most countable.
        The union is in $\mcA$ only if it is finite, since the complement
        of a countable set would be uncountable.
        In that case, \[
            \mu\left(\bigsqcup_{n=1}^\infty A_n\right)
                = 0 = \sum_{n=1}^\infty \mu(A_n).
        \] Thus by
        \refifdef{thm:caratheodory}{\nameref}
        {Carath\'eodory's extension theorem},
        $\mu$ extends to a measure on $\F = \sigma(\mcA)$. \qedhere
    \end{enumerate}
\end{solution}

% Problem 10
\begin{problem*}
    On $\N = \set{1, 2, \dots}$, let $A_p$ denote the subset of numbers
    divisible by $p$.
    Describe $\sigma(\set{A_p : p \text{ is prime}})$ as explicitly
    as possible.
\end{problem*}
Call $\sigma(\set{A_p : p \text{ is prime}})$ simply $\sigma$.
The idea is that
\begin{itemize}
    \item $\N$ is countable, as is $\set{A_p : p \text{ is prime}}$.
    It would make sense for $\sigma$ to be explicitly generated by countable
    unions/intersections/complements of these sets.
    \item Any $m, n \in \N$ having the same prime factors are not separated
    by any $A_p$.
    By \cref{prb:separation}, $\sigma$ does not separate them either.
    Thus we can consider the partition of $\N$ into sets of numbers
    with the same prime factors.
    \item This too is countable, so if we $\sigma$ contains each such set,
    it is essentially the power set of this partition.
\end{itemize}
\begin{solution}
    Let $\pr$ be the set of primes.
    Denote the set of finite subsets of $\pr$ as
    $\finpr$.
    For each $P \in \finpr$, let $[P]$ denote the set of all
    $n \in \N$ whose set of prime factors is precisely $P$.
    That is, \[
        [P] = \bigcap_{p \in P} A_p \cap
            \bigcap_{q \in P^c} A_q^c.
    \] By the fundamental theorem of arithmetic, \[
        \N = \bigsqcup_{P \in \finpr} [P].
    \] Let \[
        \Sigma = \sset*{\bigcup_{P \in S} [P]}
            {S \subseteq \finpr}.
    \]
    \begin{enumerate}[\small($\varsigma 1$)]
        \item When $S = \O$, $\bigcup_{P \in S} [P] = \O$.
        \item Since $[P]$ form a partition of $\N$,
            the complement of $\bigcup_{P \in S} [P]$ is
            $\bigcup_{P \in S^c} [P]$.
            $\Sigma$ is closed under complements.
        \item $\finpr$ is countable, so $\Sigma$ is closed under countable
            unions.
    \end{enumerate}
    Thus $\Sigma$ is a $\sigma$-algebra.
    Since \[
        A_p = \bigcup_{P \in \finpr : p \in P} [P],
    \] $\sigma \subseteq \Sigma$.

    But each $[P]$ is in $\sigma$,
    as is every countable union of them.
    Thus $\Sigma \subseteq \sigma$.
\end{solution}

\end{document}
